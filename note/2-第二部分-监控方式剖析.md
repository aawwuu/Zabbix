## Zabbix监控方式剖析

Zabbix 自带多种类型的监控方式，大致分为两类：公共的协议和 Zabbix 专业协议。

### Zabbix 支持的监控方式

在 Zabbix 的Web 界面中，可以对 Agent、SNMP、JMX、IPMI这四种协议的可用状态进行显示。处于正确状态的监控会显示绿色，红色代表当前不可用

<div>
    <image src="../img/zabbix-mon.png"></image>
</div>

四种监控方式的逻辑：

<div>
    <image src="../img/zabbix-mon1.png"></image>
</div>

### Agent 监控方式

Agent 分为主动式和被动式两种方式，具体参考：[第五部分-Zabbix协议](<https://github.com/tangming579/Zabbix/blob/master/note/5-%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86-Zabbix%E5%8D%8F%E8%AE%AE.md>)

### Trapper 监控方式

Trapper 是发送任意的数据给 Zabbix-Server，采用主动推送的方式，与主动模式的区别是 Trapper 不需要安装客户端，Key 的名称是可以灵活定义的，这意味着 Zabbix-Server 可以获取需要的任意数据。

在Trapper 的工作模式中，agent端通过zabbix_sender 命令发送数据，一般情况下，我们在创建监控项的时候，选择的类型是 “zabbix客户端” 是每隔多长时间（主动或被动的）发送数据给 server，当脚本执行时间过长的时候，在选用”zabbix 客户端”这种类型的监控项，会影响server的性能，所以当脚本执行时间过长时，我们选择 “zabbix采集器” 的方式，这种方式是不管脚本执行多长时间，一直等到脚本执行完之后，再通过 “zabbix_sender” 命令给 server 发送信息。不会影响 server 的性能。

使用trapper的步骤如下：

- 在zabbix中配置 trapper 监控项
- 传递数据到 Zabbix Server 中

### SNMP 方式

SNMP 是 Simple Network Management Protocol 的缩写形式，即简单网络管理协议。简单网络管理包括两部分：管理进程和被管理设备。

参考：[名词解释](https://github.com/tangming579/Zabbix/blob/master/note/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A.md)

MIB 的含义：

任何一个被管理的资源都表示为一个对象，称为被管理的对象。MIB 是被管理对象的集合，它定义了被管理对象的一系列属性：对象的名称、对象的访问权限和对象的数据类型。每个 Agent 都有自己的 MIB。 MIB 也可以看做是 NMS和 Agent 之间的一个接口

### IPMI 监控方式



### JMX 监控方式

